{"ast":null,"code":"var _jsxFileName = \"/Users/Madara/Desktop/IST440W/Finance-Tracker/src/components/Analytics/Analytics.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { AppContext } from \"../../Context/AppContext\";\nimport { H1 } from \"../../styles/twStyles\";\nimport Chart from \"../Home/Chart\";\nimport Table from \"./Table\";\nimport Pagination from \"./Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Analytics() {\n  _s();\n  const {\n    expenses,\n    incomes\n  } = useContext(AppContext);\n  const [transactions] = useState(expenses.concat(incomes).sort((a, b) => new Date(b.dateAdded) - new Date(a.dateAdded)));\n  const [rows, setrows] = useState(expenses.reverse());\n  const [currentPage, setCurrentPage] = useState(1);\n  const [rowsPerPage] = useState(3);\n  const [pages, setPages] = useState(rows.length / rowsPerPage);\n  useEffect(() => {\n    setrows(transactions);\n  }, [expenses, incomes]);\n  useEffect(() => {\n    setPages(pages - 1);\n  }, [currentPage]);\n\n  // Get current rows\n  const indexOfLastPost = currentPage * rowsPerPage;\n  const indexOfFirstPost = indexOfLastPost - rowsPerPage;\n  const currentrows = rows.slice(indexOfFirstPost, indexOfLastPost);\n  // Change page\n  const paginateFront = () => {\n    if (pages > -0.9) {\n      setCurrentPage(currentPage + 1);\n      setPages(pages - 1);\n    }\n  };\n  const paginateBack = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n      setPages(rows.length / rowsPerPage + 1);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: H1,\n      children: \"Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Chart, {\n      type: \"Bar\",\n      width: \"35vw\",\n      labels: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      rows: currentrows\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), rows.length > 3 && /*#__PURE__*/_jsxDEV(Pagination, {\n      showing: currentrows.length,\n      rowsPerPage: rowsPerPage,\n      totalrows: rows.length,\n      paginateBack: paginateBack,\n      paginateFront: paginateFront,\n      currentPage: currentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n}\n_s(Analytics, \"znpztaP82OTEh2rbC+kq9/XBy4U=\");\n_c = Analytics;\nvar _c;\n$RefreshReg$(_c, \"Analytics\");","map":{"version":3,"names":["React","useContext","useEffect","useState","AppContext","H1","Chart","Table","Pagination","Analytics","expenses","incomes","transactions","concat","sort","a","b","Date","dateAdded","rows","setrows","reverse","currentPage","setCurrentPage","rowsPerPage","pages","setPages","length","indexOfLastPost","indexOfFirstPost","currentrows","slice","paginateFront","paginateBack"],"sources":["/Users/Madara/Desktop/IST440W/Finance-Tracker/src/components/Analytics/Analytics.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { AppContext } from \"../../Context/AppContext\";\nimport { H1 } from \"../../styles/twStyles\";\nimport Chart from \"../Home/Chart\";\nimport Table from \"./Table\";\nimport Pagination from \"./Pagination\";\n\nexport default function Analytics() {\n\tconst { expenses, incomes } = useContext(AppContext);\n\tconst [transactions] = useState(\n\t\texpenses\n\t\t\t.concat(incomes)\n\t\t\t.sort((a, b) => new Date(b.dateAdded) - new Date(a.dateAdded))\n\t);\n\tconst [rows, setrows] = useState(expenses.reverse());\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [rowsPerPage] = useState(3);\n\tconst [pages, setPages] = useState(rows.length / rowsPerPage);\n\n\tuseEffect(() => {\n\t\tsetrows(transactions);\n\t}, [expenses, incomes]);\n\n\tuseEffect(() => {\n\t\tsetPages(pages - 1);\n\t}, [currentPage]);\n\n\t// Get current rows\n\tconst indexOfLastPost = currentPage * rowsPerPage;\n\tconst indexOfFirstPost = indexOfLastPost - rowsPerPage;\n\tconst currentrows = rows.slice(indexOfFirstPost, indexOfLastPost);\n\t// Change page\n\tconst paginateFront = () => {\n\t\tif (pages > -0.9) {\n\t\t\tsetCurrentPage(currentPage + 1);\n\t\t\tsetPages(pages - 1);\n\t\t}\n\t};\n\tconst paginateBack = () => {\n\t\tif (currentPage > 1) {\n\t\t\tsetCurrentPage(currentPage - 1);\n\t\t\tsetPages(rows.length / rowsPerPage + 1);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"container mx-auto px-4\">\n\t\t\t<h1 className={H1}>Analytics</h1>\n\t\t\t<Chart type=\"Bar\" width=\"35vw\" labels={1} />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<Table rows={currentrows} />\n\t\t\t{rows.length > 3 && (\n\t\t\t\t<Pagination\n\t\t\t\t\tshowing={currentrows.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\ttotalrows={rows.length}\n\t\t\t\t\tpaginateBack={paginateBack}\n\t\t\t\t\tpaginateFront={paginateFront}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}